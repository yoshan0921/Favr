<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script type="module" src="../js/common.js"></script>
    <script type="module" src="../js/elders/createTask.js" defer></script>
    <script>
        (g => { var h, a, k, p = "The Google Maps JavaScript API", c = "google", l = "importLibrary", q = "__ib__", m = document, b = window; b = b[c] || (b[c] = {}); var d = b.maps || (b.maps = {}), r = new Set(["geometry"]), e = new URLSearchParams, u = () => h || (h = new Promise(async (f, n) => { await (a = m.createElement("script")); e.set("libraries", [...r] + ""); for (k in g) e.set(k.replace(/[A-Z]/g, t => "_" + t[0].toLowerCase()), g[k]); e.set("callback", c + ".maps." + q); a.src = `https://maps.${c}apis.com/maps/api/js?` + e; d[q] = f; a.onerror = () => h = n(Error(p + " could not load.")); a.nonce = m.querySelector("script[nonce]")?.nonce || ""; m.head.append(a) })); d[l] ? console.warn(p + " only loads once. Ignoring:", g) : d[l] = (f, ...n) => r.add(f) && u().then(() => d[l](f, ...n)) })({
            key: "AIzaSyCmy-0P_Y1HQdMacXnu9a2zs4dcm5FQ40w",
            v: "weekly",
        });
    </script>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/elders/createTask.css">
    <title>Request Favor</title>
</head>

<body>
    <!-- Left Column -->
    <div id="leftside-column"></div>

    <!--Header-->
    <header id="header"></header>
    <!-- Main Content -->
    <main class="content">
        <div class="container steps-counter">
            <div class="step1">
                <div class="stepNumber stepActive"><span>1</span></div>
                <div class="stepText textActive">Favor Type</div>
            </div>
            <div class="stepLine2"></div>
            <div class="step2">
                <div class="stepNumber"><span>2</span></div>
                <div class="stepText">Date & Time</div>
            </div>
            <div class="stepLine3"></div>
            <div class="step3">
                <div class="stepNumber"><span>3</span></div>
                <div class="stepText">Address</div>
            </div>
            <div class="stepLine4"></div>
            <div class="step4">
                <div class="stepNumber"><span>4</span></div>
                <div class="stepText">Details</div>
            </div>
        </div>

        <form action="#" id="createTaskForm">

            <!-- Step 1 -->
            <div class="step" id="step-1">
                <h2>Select a favor type</h2>
                <div id="errorMsg"></div>
                <div class="selection-history">
                    <!--This is the list that register all the user's inputs on each step. Each step div will have this list and all of them should be updated when the "next step" button is clicked. I left hints on createTask.js on how to do this-->
                    <ul class="selection-list">
                        <!--dynamically add <li> here-->
                    </ul>
                </div>
                <div class="form-group">
                    <label for="favorOption1" class="favorOption">
                        <div>Grocery Shopping</div><input type="radio" id="favorOption1" name="favorOption" value="Grocery Shopping" hidden>
                    </label>
                    <label for="favorOption2" class="favorOption">
                        <div>Meds Pick-up</div><input type="radio" id="favorOption2" name="favorOption" value="Meds Pickup" hidden>
                    </label>
                    <label for="favorOption3" class="favorOption">
                        <div>Transportation</div><input type="radio" id="favorOption3" name="favorOption" value="Transportation" hidden>
                    </label>
                    <label for="favorOption4" class="favorOption">
                        <div>Mail & Packages</div><input type="radio" id="favorOption4" name="favorOption" value="Mail & Packages" hidden>
                    </label>
                    <label for="favorOption5" class="favorOption">
                        <div>Pet Care</div><input type="radio" id="favorOption5" name="favorOption" value="Pet Care" hidden>
                    </label>
                    <label for="favorOption6" class="favorOption">
                        <div>Tech Help</div><input type="radio" id="favorOption6" name="favorOption" value="Tech Help" hidden>
                    </label>

                </div>
            </div>

            <!-- Step 2 -->
            <div class="step hidden" id="step-2">
                <h2>Pick date and time</h2>
                <div class="selection-history">
                    <!--This is the list that register all the user's inputs on each step. Each step div will have this list and all of them should be updated when the "next step" button is clicked. I left hints on createTask.js on how to do this-->
                    <ul class="selection-list">
                        <!--dynamically add <li> here-->
                    </ul>
                </div>
                <div class="form-group">
                    <label for="favorDate">Select date</label>
                    <input type="date" name="favorDate" id="favorDate">
                    <label for="favorTime">Select time</label>
                    <input type="time" name="favorTime" id="favorTime">
                    <!-- <label for="favorLength">Duration</label>
                    <select id="favorLength" name="favorLength">
                        <option value="30 mins" selected>30 mins</option>
                        <option value="1 hr">1 hr</option>
                        <option value="1.5 hrs">1.5 hrs</option>
                        <option value="2 hrs">2 hrs</option>
                        <option value="2.5 hrs">2.5 hrs</option>
                        <option value="3 hrs">3 hrs</option>
                    </select> -->
                </div>
            </div>
            <div class="step hidden" id="step-3">
                <h2>Enter address</h2>
                <div class="selection-history">
                    <!--This is the list that register all the user's inputs on each step. Each step div will have this list and all of them should be updated when the "next step" button is clicked. I left hints on createTask.js on how to do this-->
                    <ul class="selection-list">
                        <!--dynamically add <li> here-->
                    </ul>
                </div>
                <div class="form-group">
                    <label for="startAddress">Start Address</label>
                    <input id="startAddress" name="startAddress" placeholder="Input your address" type="text" class="address"></input>
                    <a id="micForStartAddress" class="mic" href="#"><i class="icon mic-icon" aria-hidden="true"></i></a>
                    <div id="errorMsg2"></div>
                    <div id="startMap" class="map mapHidden"></div>
                </div>
                <div class="form-group">
                    <label for="endAddress">End Address (Optional)</label>
                    <input id="endAddress" name="endAddress" placeholder="Input your address" type="text" class="address"></input>
                    <a id="micForEndAddress" class="mic" href="#"><i class="icon mic-icon" aria-hidden="true"></i></a>
                    <div id="endMap" class="map mapHidden"></div>
                </div>
            </div>
            <div class="step hidden" id="step-4">
                <h2>Enter details</h2>
                <div class="selection-history">
                    <!--This is the list that register all the user's inputs on each step. Each step div will have this list and all of them should be updated when the "next step" button is clicked. I left hints on createTask.js on how to do this-->
                    <ul class="selection-list">
                        <!--dynamically add <li> here-->
                    </ul>
                </div>
                <div class="form-group">
                    <label for="notes">Note (optional)</label>
                    <textarea name="" id="notes"></textarea>
                </div>
                <!-- Try to move the location of submit button to next step button location -->
                <!-- <div class="form-group">
                    <button type="submit">Submit</button>
                </div> -->
            </div>
        </form>

        <div class="container form-navigation">
            <button id="previousStepBtn" class="rounded-btn link-btn outlined-btn">&lt; Previous</button>
            <button id="nextStepBtn" class="rounded-btn link-btn outlined-btn">Next step &gt;</button>
            <!-- Submit button will be visible in step 4 -->
            <button id="submitBtn" class="hidden rounded-btn link-btn outlined-btn btn-active" type="submit" form="createTaskForm">Submit</button>
        </div>

        <!-- Summary Section -->
        <div class="summary hidden" id="summaryDiv">

            <h2>All Finished!</h2>
            <div id="statusList">
                <!-- Status will be added here -->
            </div>

            <div class="favor-summary">
                <h2>Favor Summary</h2>
                <ul id="summaryList">
                    <!-- Summary items will be added here -->
                </ul>
                <div class="favor-buttons">
                    <button id="cancelFavor" class="rounded-btn link-btn outlined-btn">Cancel Favor</button>
                    <button id="editFavor" class="rounded-btn link-btn outlined-btn btn-active">Edit</button>
                </div>
            </div>
            <div class="home-button">
                <button id="backToHome">Homepage</button>
            </div>

        </div>

    </main>
    <!-- Footer -->
    <footer id="footer"></footer>
</body>
<div id="confirmRedirectModal" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
      <span class="closeModal">&times;</span>
      <div class="modal-form">
        <h2>Are you sure you want to leave this page?</h2>
        <p>Your progress will be lost</p>
        <div class="form-group">
            <button type="button" id="cancelBtn" class="rounded-btn">No</button>
            <button type="submit" id="confirmBtn" class="rounded-btn">Yes</button>
        </div>
      </div>
    </div>
  
  </div>
</html>